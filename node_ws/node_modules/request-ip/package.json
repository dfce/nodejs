{
  "_args": [
    [
      {
        "raw": "request-ip@2.0.2",
        "scope": null,
        "escapedName": "request-ip",
        "name": "request-ip",
        "rawSpec": "2.0.2",
        "spec": "2.0.2",
        "type": "version"
      },
      "D:\\www\\1A_TestDemo_code\\node_ws"
    ]
  ],
  "_cnpm_publish_time": 1498501833609,
  "_from": "request-ip@2.0.2",
  "_hasShrinkwrap": false,
  "_id": "request-ip@2.0.2",
  "_location": "/request-ip",
  "_nodeVersion": "6.9.4",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/request-ip-2.0.2.tgz_1498501832984_0.7951919592451304"
  },
  "_npmUser": {
    "name": "pbojinov",
    "email": "petarbojinov@gmail.com"
  },
  "_npmVersion": "3.10.10",
  "_phantomChildren": {},
  "_requested": {
    "raw": "request-ip@2.0.2",
    "scope": null,
    "escapedName": "request-ip",
    "name": "request-ip",
    "rawSpec": "2.0.2",
    "spec": "2.0.2",
    "type": "version"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "http://registry.npm.taobao.org/request-ip/download/request-ip-2.0.2.tgz",
  "_shasum": "deeae6d4af21768497db8cd05fa37143f8f1257e",
  "_shrinkwrap": null,
  "_spec": "request-ip@2.0.2",
  "_where": "D:\\www\\1A_TestDemo_code\\node_ws",
  "author": {
    "name": "Petar Bojinov",
    "email": "petarbojinov@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/pbojinov/request-ip/issues"
  },
  "contributors": [
    {
      "name": "Jon Peck",
      "email": "jpeck@fluxsauce.com"
    }
  ],
  "dependencies": {
    "is_js": "^0.9.0"
  },
  "description": "A small node.js module to retrieve the request's IP address",
  "devDependencies": {
    "coveralls": "^2.11.2",
    "eslint": "^3.17.0",
    "eslint-config-airbnb-base": "^11.1.1",
    "eslint-plugin-import": "^2.2.0",
    "nyc": "^10.1.2",
    "request": "^2.54.0",
    "tap-spec": "^4.1.1",
    "tape": "^4.6.3"
  },
  "directories": {},
  "dist": {
    "shasum": "deeae6d4af21768497db8cd05fa37143f8f1257e",
    "size": 8661,
    "noattachment": false,
    "tarball": "http://registry.npm.taobao.org/request-ip/download/request-ip-2.0.2.tgz"
  },
  "gitHead": "ea549f2ffced366c2d689cf7917086e92480e4ce",
  "homepage": "https://github.com/pbojinov/request-ip",
  "keywords": [
    "request ip",
    "ip",
    "address",
    "request",
    "proxy",
    "client",
    "header",
    "X-Real-IP",
    "X-Client-IP",
    "X-Forwarded-For",
    "connection.remoteAddress",
    "middleware",
    "ipv4",
    "ipv6"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "pbojinov",
      "email": "petarbojinov@gmail.com"
    }
  ],
  "name": "request-ip",
  "optionalDependencies": {},
  "publish_time": 1498501833609,
  "readme": "# request-ip\n\nA tiny Node.js module for retrieving a request's IP address. \n\n![](https://nodei.co/npm/request-ip.png?downloads=true&cacheBust=2)\n\n![](https://travis-ci.org/pbojinov/request-ip.svg?branch=master)\n[![Coverage Status](https://coveralls.io/repos/pbojinov/request-ip/badge.svg)](https://coveralls.io/r/pbojinov/request-ip)\n![](https://img.shields.io/npm/l/express.svg)\n[![npm version](https://badge.fury.io/js/request-ip.svg)](https://badge.fury.io/js/request-ip)\n\n## Installation\n\n```bash\nnpm install request-ip --save\n```\n    \n## Getting Started\n\n```javascript\nconst requestIp = require('request-ip');\n\n// inside middleware handler\nconst ipMiddleware = function(req, res, next) {\n    const clientIp = requestIp.getClientIp(req); \n    next();\n};\n\n// on localhost you'll see 127.0.0.1 if you're using IPv4 \n// or ::1, ::ffff:127.0.0.1 if you're using IPv6\n```\n\n### As Connect Middleware\n\n```javascript\nconst requestIp = require('request-ip');\napp.use(requestIp.mw())\n\napp.use(function(req, res) {\n    const ip = req.clientIp;\n    res.end(ip);\n});\n```\n\nTo see a full working code for the middleware, check out the [examples](https://github.com/pbojinov/request-ip/tree/master/examples) folder.\n\nThe connect-middleware also supports retrieving the ip address under a custom attribute name, which also works as a container for any future settings. \n\n## How It Works\n\nIt looks for specific headers in the request and falls back to some defaults if they do not exist.\n\nThe following is the order we use to determine the user ip from the request.\n\n1. `X-Client-IP`  \n2. `X-Forwarded-For` (Header may return multiple IP addresses in the format: \"client IP, proxy 1 IP, proxy 2 IP\", so we take the the first one.)\n3. `CF-Connecting-IP` (Cloudflare)\n4. `True-Client-Ip` (Akamai and Cloudflare)\n5. `X-Real-IP` (Nginx proxy/FastCGI)\n6. `X-Cluster-Client-IP` (Rackspace LB, Riverbed Stingray)\n7. `X-Forwarded`, `Forwarded-For` and `Forwarded` (Variations of #2)\n8. `req.connection.remoteAddress`\n9. `req.socket.remoteAddress`\n10. `req.connection.socket.remoteAddress`\n11. `req.info.remoteAddress`\n\nIf an IP address cannot be found, it will return `null`.\n\n## Samples Use Cases\n\n* Getting a user's IP for geolocation.\n\n\n## Running the Tests\n\nMake sure you have the necessary dev dependencies needed to run the tests:\n\n```\nnpm install\n```\n\nRun the integration tests\n\n```\nnpm test\n```\n\n## Release Notes\n\nSee the wonderful [changelog](https://github.com/pbojinov/request-ip/blob/master/CHANGELOG.md)\n\nTo easily generate a new changelog, install [github-changelog-generator](https://github.com/skywinder/github-changelog-generator) then run `npm run changelog`.\n\n## Contributors\n\n* Thanks to [@osherx](https://github.com/osherx) for adding the connect-middleware.\n* Thanks to [@raunc](https://github.com/raunc) for adding Squid proxy support.\n* Thanks to [@fluxsauce](https://github.com/fluxsauce) for adding `CF-Connecting-IP`, `True-Client-IP`, and ES6 support.\n\n## License\n\nThe MIT License (MIT) - 2017\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/pbojinov/request-ip.git"
  },
  "scripts": {
    "changelog": "github_changelog_generator -t 4c910e93a260e924d44e800b1a4345bf1115c532",
    "coverage": "nyc report --reporter=text-lcov | coveralls",
    "test": "nyc --reporter=html --reporter=text --check-coverage --lines=100 --statements=100 tape ./test/*.js"
  },
  "version": "2.0.2"
}
